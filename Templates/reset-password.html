<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reset Password | Phoenix Project</title>

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      height:100vh;
      font-family:'Poppins', sans-serif;
      background:radial-gradient(circle at center,#000010,#000015,#000);
      color:#fff;
      overflow-x:hidden;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
    }

    /* Phoenix Header */
    header{
      position:fixed;
      top:40px;
      left:60px;
      font-family:'Orbitron',sans-serif;
      font-size:1.8rem;
      letter-spacing:3px;
      background:linear-gradient(90deg,#00e0ff,#ff00d4);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      text-shadow:0 0 20px #00f0ff88;
      z-index:3;
    }

    /* Glass Card */
    .card {
      background:rgba(255,255,255,0.05);
      border:1px solid rgba(0,255,255,0.25);
      border-radius:20px;
      box-shadow:0 0 32px rgba(0,255,255,0.25);
      backdrop-filter:blur(12px);
      padding:40px 35px;
      width:90%;
      max-width:450px;
      animation:fadeIn 1.4s ease-out;
    }

    h2 {
      font-family:'Orbitron',sans-serif;
      background:linear-gradient(90deg,#00eaff,#ff00a6,#00ffe0);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      font-size:1.6rem;
      text-align:center;
      margin-bottom:20px;
    }

    p{
      color:#bcbcbc;
      margin-bottom:22px;
      text-align:center;
      font-size:0.9rem;
    }

    /* Input */
    .input-field {
      width:100%;
      padding:12px 15px;
      background:rgba(255,255,255,0.12);
      border:none;
      border-radius:12px;
      color:#fff;
      font-size:1rem;
      outline:none;
      margin-bottom:18px;
      transition:0.3s;
    }

    .input-field:focus {
      background:rgba(255,255,255,0.22);
      box-shadow:0 0 12px rgba(0,255,255,0.7);
    }

    /* Button */
    .btn-primary {
      width:100%;
      padding:12px;
      border:none;
      border-radius:35px;
      font-size:1rem;
      font-weight:600;
      cursor:pointer;
      background:linear-gradient(90deg,#00eaff,#ff00a6,#00ffe0);
      color:white;
      box-shadow:0 0 25px rgba(0,255,255,0.3);
      transition:0.3s;
    }

    .btn-primary:hover {
      transform:scale(1.06);
      box-shadow:0 0 35px rgba(0,255,255,0.8);
    }

    /* Flash Messages */
    .flash {
      background:rgba(255,255,255,0.1);
      border:1px solid rgba(0,255,255,0.4);
      padding:10px 12px;
      border-radius:10px;
      font-size:0.85rem;
      margin-bottom:10px;
    }

    @keyframes fadeIn {
      from { opacity:0; transform:translateY(25px); }
      to { opacity:1; transform:translateY(0); }
    }
  </style>
</head>

<body>

<header>âš¡PHOENIX</header>

<div class="card">
    <h2>Reset Password</h2>
    <p>Enter the 6-digit code sent to your email and choose a new password.</p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('reset_password') }}" method="POST">
      <label class="text-sm text-gray-300">Verification Code</label>
      <input type="text" name="code" maxlength="6" placeholder="Enter code" required class="input-field">

      <label class="text-sm text-gray-300">New Password</label>
      <input type="password" name="password" placeholder="Enter new password" required class="input-field">

      <button type="submit" class="btn-primary">Update Password</button>
    </form>

    <p class="text-sm mt-5">
      Need a new code? 
      <form action="{{ url_for('resend_reset_code') }}" method="POST" style="display:inline;">
        <button type="submit" style="background:none;border:none;padding:0;cursor:pointer;color:#00eaff;text-decoration:underline;">Resend code</button>
      </form>
    </p>
</div>

</body>
</html>
